/* SLG竞对数据监测演示 - 样式 */
:root {
  --header-bg: #2c3e50;
  --header-text: #ecf0f1;
  --top-nav-bg: #34495e;
  --top-nav-active: #e67e22;
  --top-nav-text: #ecf0f1;
  --sidebar-bg: #ecf0f1;
  --sidebar-border: #bdc3c7;
  --main-bg: #fff;
  --table-header-bg: #4F81BD;
  --table-header-text: #fff;
  --table-border: #bdc3c7;
  --table-row-alt: #f8f9fa;
  --change-up: #00B050;
  --change-down: #c0392b;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Microsoft YaHei", sans-serif;
  font-size: 14px;
  color: #2c3e50;
  background: var(--main-bg);
}

/* 顶部：标题 + 本机时间 */
.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 1.5rem;
  background: var(--header-bg);
  color: var(--header-text);
  height: 48px;
}

.logo { font-size: 1.1rem; font-weight: 600; }

.data-time-range {
  font-size: 0.9rem;
  color: #95a5a6;
}

.local-time {
  font-size: 0.9rem;
  color: #bdc3c7;
}

.header-right {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.header-username {
  font-size: 0.9rem;
  color: #95a5a6;
}

.btn-logout {
  padding: 0.25rem 0.75rem;
  font-size: 0.85rem;
  color: var(--header-text);
  background: rgba(255,255,255,0.15);
  border: 1px solid rgba(255,255,255,0.3);
  border-radius: 4px;
  cursor: pointer;
}

.btn-logout:hover {
  background: rgba(255,255,255,0.25);
}

/* 登录层 */
.login-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(44, 62, 80, 0.95);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
}

.login-box {
  background: #fff;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
  min-width: 320px;
}

.login-title {
  margin: 0 0 0.25rem;
  font-size: 1.25rem;
  color: #2c3e50;
}

.login-desc {
  margin: 0 0 1.5rem;
  font-size: 0.9rem;
  color: #7f8c8d;
}

.login-form .login-input {
  display: block;
  width: 100%;
  margin-bottom: 1rem;
  padding: 0.6rem 0.75rem;
  font-size: 1rem;
  border: 1px solid #bdc3c7;
  border-radius: 4px;
  box-sizing: border-box;
}

.login-form .login-input:focus {
  outline: none;
  border-color: var(--top-nav-active);
}

.login-error {
  margin: 0 0 0.75rem;
  font-size: 0.85rem;
  color: var(--change-down);
  min-height: 1.2em;
}

.login-submit {
  width: 100%;
  padding: 0.65rem;
  font-size: 1rem;
  color: #fff;
  background: var(--top-nav-active);
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.login-submit:hover {
  background: #d35400;
}

/* 主导航：公司维度 / 产品维度 / 素材维度 / 组合分析 */
.top-nav {
  display: flex;
  gap: 0;
  padding: 0 1rem;
  background: var(--top-nav-bg);
  color: var(--top-nav-text);
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

.top-nav-link {
  padding: 0.75rem 1.25rem;
  color: var(--top-nav-text);
  text-decoration: none;
}

.top-nav-link:hover { background: rgba(255,255,255,0.08); }

.top-nav-link.active {
  background: var(--top-nav-active);
  color: #fff;
}

/* 主体布局 */
.layout {
  display: flex;
  min-height: calc(100vh - 48px - 44px);
}

/* 左侧边栏：按年 / 月 / 周 */
.sidebar {
  width: 240px;
  padding: 1rem;
  background: var(--sidebar-bg);
  border-right: 1px solid var(--sidebar-border);
  overflow-y: auto;
}

.sidebar-year {
  margin-bottom: 1rem;
}

.sidebar-year-title {
  font-weight: 700;
  font-size: 0.95rem;
  margin: 0 0 0.35rem;
  color: #2c3e50;
}

.sidebar-month-title {
  font-size: 0.85rem;
  color: #7f8c8d;
  margin: 0.5rem 0 0.25rem;
}

.sidebar-week-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.sidebar-week-list li { margin: 0; }

.sidebar-week-link {
  display: block;
  padding: 0.35rem 0.5rem;
  color: #2c3e50;
  text-decoration: none;
  border-radius: 4px;
  font-size: 0.9rem;
}

.sidebar-week-link:hover { background: #e8f4fc; }

.sidebar-week-link.active {
  background: var(--top-nav-active);
  color: #fff;
}

/* 上线新游：在总表中存在为「是」时标红 */
.new-product-in-total-yes { color: #c00; }

/* 数据维护页：隐藏侧边栏，主内容区占满 */
#layout.layout-maintenance .sidebar { display: none; }
#layout.layout-maintenance .main { flex: 1; min-width: 0; }

/* 数据底表页：仅「产品总表」时显示侧边栏，其他底表选项隐藏侧边栏 */
#layout.layout-basetable-no-sidebar .sidebar { display: none; }
#layout.layout-basetable-no-sidebar .main { flex: 1; min-width: 0; }

/* 主内容区 */
.main {
  flex: 1;
  padding: 1rem 1.5rem;
  overflow: auto;
  background: var(--main-bg);
}

.main-title {
  font-size: 1.1rem;
  margin: 0 0 0.75rem;
  font-weight: 600;
}

.sub-nav {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.75rem;
}

.sub-nav-link {
  padding: 0.4rem 0.75rem;
  color: #2c3e50;
  text-decoration: none;
  border: 1px solid var(--table-border);
  border-radius: 4px;
  font-size: 0.9rem;
}

.sub-nav-link:hover { background: #f8f9fa; }

.sub-nav-link.active {
  background: var(--table-header-bg);
  color: #fff;
  border-color: var(--table-header-bg);
}

.toolbar {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.75rem;
}

.search-label { font-size: 0.9rem; color: #7f8c8d; }

.search-input {
  width: 220px;
  padding: 0.4rem 0.6rem;
  border: 1px solid var(--table-border);
  border-radius: 4px;
  font-size: 13px;
}

.search-input:focus {
  outline: none;
  border-color: var(--table-header-bg);
}

.btn-download {
  padding: 0.4rem 0.75rem;
  background: var(--table-header-bg);
  color: #fff;
  border: none;
  border-radius: 4px;
  font-size: 13px;
  cursor: pointer;
}

.btn-download:hover { opacity: 0.9; }

/* 产品维度：产品选择 + 时间段 + 搜索 + 下载 */
.product-toolbar {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.5rem 1rem;
  margin-bottom: 0.75rem;
}

.product-label { font-size: 0.9rem; color: #2c3e50; }

.product-select {
  padding: 0.4rem 0.6rem;
  border: 1px solid var(--table-border);
  border-radius: 4px;
  font-size: 13px;
}

.product-period {
  font-size: 0.9rem;
  color: #7f8c8d;
  min-width: 80px;
}

/* 上线新游：仅搜索栏 + 空状态/表格 */
.product-newgame-wrap {
  margin-bottom: 0.75rem;
}

.product-newgame-toolbar {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.5rem 1rem;
  margin-bottom: 0.75rem;
}

.product-newgame-content {
  min-height: 120px;
}

.product-newgame-empty {
  padding: 2rem 1rem;
  text-align: center;
  color: #7f8c8d;
  font-size: 0.95rem;
  background: var(--table-row-alt);
  border-radius: 6px;
}

/* 产品详细信息看板 */
.product-detail-sub-nav {
  display: flex;
  gap: 0;
  margin-bottom: 0.75rem;
  border-bottom: 1px solid var(--table-border);
}

.product-detail-sub-link {
  padding: 0.5rem 1rem;
  color: #7f8c8d;
  text-decoration: none;
  border-bottom: 2px solid transparent;
  margin-bottom: -1px;
}

.product-detail-sub-link:hover { color: #2c3e50; }

.product-detail-sub-link.active {
  color: var(--top-nav-active);
  border-bottom-color: var(--top-nav-active);
  font-weight: 500;
}

.product-detail-date-range {
  font-size: 0.9rem;
  color: #7f8c8d;
  margin: 0 0 1rem;
}

.product-detail-section-title {
  font-size: 1rem;
  font-weight: 600;
  margin: 0 0 0.5rem;
  color: #2c3e50;
}

.product-detail-intro,
.product-detail-metrics,
.product-detail-trend,
.product-detail-creative {
  margin-bottom: 1.5rem;
}

.product-detail-trend-charts {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-top: 0.5rem;
}

.product-detail-trend-chart-wrap {
  min-width: 0;
}

.product-detail-chart-container {
  position: relative;
  height: 260px;
  width: 100%;
}

.product-detail-trend-loading {
  font-size: 0.9rem;
  color: #7f8c8d;
  margin-top: 0.5rem;
}

.product-detail-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 0.75rem;
}

.product-detail-card {
  padding: 0.75rem 1rem;
  border: 1px solid var(--table-border);
  border-radius: 6px;
  background: var(--table-row-alt);
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.product-detail-card-label {
  font-size: 0.8rem;
  color: #7f8c8d;
}

.product-detail-card-value {
  font-size: 1rem;
  font-weight: 500;
  color: #2c3e50;
}

.product-detail-metrics-row {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0.75rem;
  margin-bottom: 0.75rem;
}

.product-detail-desc {
  font-size: 0.85rem;
  color: #7f8c8d;
  margin: 0 0 0.5rem;
}

.product-detail-chart-placeholder {
  min-height: 120px;
  padding: 1.5rem;
  border: 1px dashed var(--table-border);
  border-radius: 6px;
  background: #fafafa;
  color: #95a5a6;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
}

.product-detail-creative-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  margin-bottom: 1rem;
}

.product-detail-chart-wrap {
  min-width: 0;
}

.product-detail-jump-wrap {
  margin-top: 1rem;
}

.product-detail-jump-btn {
  padding: 0.5rem 1.5rem;
  font-size: 0.95rem;
}

/* 公司详细信息看板（复用产品详细样式） */
.company-detail-sub-nav {
  display: flex;
  gap: 0;
  margin-bottom: 0.75rem;
  border-bottom: 1px solid var(--table-border);
}

.company-detail-sub-link {
  padding: 0.5rem 1rem;
  color: #7f8c8d;
  text-decoration: none;
  border-bottom: 2px solid transparent;
  margin-bottom: -1px;
}

.company-detail-sub-link:hover { color: #2c3e50; }

.company-detail-sub-link.active {
  color: var(--top-nav-active);
  border-bottom-color: var(--top-nav-active);
  font-weight: 500;
}

.company-product-table-wrap {
  overflow-x: auto;
  margin-top: 0.5rem;
  border: 1px solid var(--table-border);
  border-radius: 6px;
}

.company-product-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

.company-product-table th,
.company-product-table td {
  padding: 0.4rem 0.6rem;
  border: 1px solid var(--table-border);
}

.company-product-table thead th {
  background: var(--table-header-bg);
  color: var(--table-header-text);
  font-weight: 600;
}

.data-table .company-link {
  color: #3498db;
  text-decoration: none;
}

.data-table .company-link:hover { text-decoration: underline; }

/* 公司维度首页 - 详细数据未选公司时的占位 */
.company-home-detail-placeholder {
  margin-top: 1rem;
  padding: 2rem;
  border: 1px solid var(--table-border);
  border-radius: 8px;
  background: var(--table-row-alt);
}

.company-home-detail-prompt {
  font-size: 1.1rem;
  font-weight: 600;
  color: #2c3e50;
  margin: 0 0 0.5rem;
}

.company-home-detail-placeholder .product-detail-desc {
  margin: 0;
}

/* 数据维护：大卡片入口 */
.maintenance-panel .maintenance-desc {
  margin-bottom: 1.5rem;
}

.maintenance-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(420px, 1fr));
  gap: 1.5rem;
}

.maintenance-card {
  border: 1px solid var(--table-border);
  border-radius: 10px;
  padding: 1.25rem 1.5rem;
  background: var(--table-row-alt);
  box-shadow: 0 1px 3px rgba(0,0,0,0.06);
}

.maintenance-card-title {
  font-size: 1.05rem;
  font-weight: 600;
  margin: 0 0 0.5rem;
  color: #2c3e50;
}

.maintenance-card-desc {
  font-size: 0.9rem;
  color: #5a6c7d;
  margin: 0 0 1rem;
  line-height: 1.45;
}

.maintenance-card-form {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.maintenance-form-row {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 1rem;
}

.maintenance-field {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.maintenance-label {
  font-size: 0.9rem;
  font-weight: 500;
  color: #2c3e50;
}

.maintenance-input {
  padding: 0.4rem 0.6rem;
  border: 1px solid var(--table-border);
  border-radius: 4px;
  font-size: 13px;
  width: 8rem;
}

.maintenance-file-input {
  padding: 0.4rem;
  border: 1px solid var(--table-border);
  border-radius: 4px;
  font-size: 13px;
  max-width: 100%;
}

.maintenance-status-inline {
  font-size: 0.9rem;
  color: #5a6c7d;
}

.maintenance-status-inline.ok { color: #2e7d32; }
.maintenance-status-inline.err { color: #c62828; }

/* 素材维度：当前周期与公司/产品维度一致提示 */
.creative-period-hint {
  font-size: 0.85rem;
  color: #7f8c8d;
  margin: 0 0 0.5rem;
}

/* 素材维度：产品数据条（一行表格式） */
.creative-toolbar {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.5rem 1rem;
  margin-bottom: 0.75rem;
}

.creative-product-data-wrap {
  margin-bottom: 0.75rem;
  overflow-x: auto;
  border: 1px solid var(--table-border);
  border-radius: 4px;
}

.creative-product-data-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

.creative-product-data-table th,
.creative-product-data-table td {
  padding: 0.4rem 0.6rem;
  border: 1px solid var(--table-border);
  text-align: center;
  white-space: nowrap;
}

.creative-product-data-table thead th {
  background: var(--table-header-bg);
  color: var(--table-header-text);
  font-weight: 600;
}

.creative-product-data-table tbody td {
  background: #fff;
  color: #2c3e50;
}

.creative-product-data-table .creative-product-name-cell {
  color: #3498db;
  font-weight: 500;
}

/* 素材表格：视频列内嵌播放器 */
.data-table .creative-video-cell {
  padding: 0.25rem;
  vertical-align: middle;
  text-align: center;
}

.data-table .creative-video-cell video {
  max-width: 200px;
  max-height: 160px;
  display: block;
  margin-left: auto;
  margin-right: auto;
  border-radius: 4px;
  background: #000;
}

.data-table .product-link {
  color: #3498db;
  text-decoration: none;
}

.data-table .product-link:hover { text-decoration: underline; }

/* 组合分析：功能开发中占位 */
.combo-developing {
  padding: 3rem 2rem;
  text-align: center;
  font-size: 1.1rem;
  color: #7f8c8d;
}

/* 组合分析：每周趋势（静态展示） */
.combo-toolbar {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.5rem 1rem;
  margin-bottom: 1rem;
}

.combo-charts {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  max-width: 100%;
}

@media (max-width: 900px) {
  .combo-charts { grid-template-columns: 1fr; }
}

.combo-card {
  background: #fff;
  border: 1px solid var(--table-border);
  border-radius: 8px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.08);
  padding: 1rem 1.25rem;
}

.combo-card-title {
  font-size: 1rem;
  font-weight: 600;
  margin: 0 0 1rem;
  color: #2c3e50;
}

.combo-pie-wrap {
  display: flex;
  justify-content: center;
  margin-bottom: 0.75rem;
}

.combo-pie {
  width: 200px;
  height: 200px;
  border-radius: 50%;
  background: conic-gradient(
    #e67e22 0deg 129.6deg,
    #1abc9c 129.6deg 230.4deg,
    #2980b9 230.4deg 309.6deg,
    #7fd857 309.6deg 360deg
  );
}

.combo-legend {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0.75rem 1.25rem;
  font-size: 13px;
  color: #2c3e50;
}

.combo-legend-item {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
}

.combo-legend-dot {
  display: inline-block;
  width: 10px;
  height: 10px;
  border-radius: 50%;
}

.combo-bar-wrap {
  display: flex;
  align-items: stretch;
  gap: 0.5rem;
  min-height: 240px;
}

.combo-bar-yaxis {
  display: flex;
  flex-direction: column-reverse;
  justify-content: space-between;
  font-size: 11px;
  color: #7f8c8d;
  padding-bottom: 1.75rem;
  min-width: 2.5rem;
}

.combo-bar-chart {
  flex: 1;
  display: flex;
  align-items: flex-end;
  justify-content: space-around;
  gap: 0.5rem;
}

.combo-bar-col {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-width: 0;
  max-width: 100px;
}

.combo-bar-item-wrap {
  width: 100%;
  height: 200px;
  display: flex;
  align-items: flex-end;
}

.combo-bar-col .combo-bar-item {
  width: 100%;
  min-height: 4px;
  border-radius: 4px 4px 0 0;
  transition: opacity 0.2s;
  box-sizing: border-box;
}

.combo-bar-col .combo-bar-item:hover { opacity: 0.85; }

.combo-bar-label {
  font-size: 11px;
  color: #2c3e50;
  margin-top: 0.35rem;
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

/* 表格 */
.table-wrap {
  overflow: auto;
  max-height: calc(100vh - 48px - 44px - 8rem);
  border: 1px solid var(--table-border);
  border-radius: 4px;
  background: #fff;
}

.data-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

.data-table th,
.data-table td {
  padding: 0.4rem 0.6rem;
  border: 1px solid var(--table-border);
  text-align: center;
  white-space: nowrap;
}

.data-table th {
  position: sticky;
  top: 0;
  z-index: 1;
  background: var(--table-header-bg);
  color: var(--table-header-text);
  font-weight: 600;
  cursor: pointer;
  user-select: none;
}

.data-table th:hover { background: #5a8fd4; }

.data-table tbody tr:nth-child(even) { background: var(--table-row-alt); }

.data-table tbody tr:hover { background: #e8f4fc; }

.data-table .num { text-align: center; }

/* 周安装/流水变动：▲ 绿色 ▼ 红色（主表） */
.data-table .cell-up { color: var(--change-up); }

.data-table .cell-down { color: var(--change-down); }

/* 公司产品汇总表：下降▼绿色、上涨▲红色 */
.company-product-table .cell-down { color: var(--change-up); }
.company-product-table .cell-up { color: var(--change-down); }

/* 公司产品汇总表：表头可点击排序，hover 与主表一致（蓝色高亮，不泛白） */
.company-product-table th.sortable { cursor: pointer; }
.company-product-table th.sortable:hover { background: #5a8fd4; }

/* 周安装变动列：与公司维度统一，红色显示（去+号由 formatCell 处理） */
.data-table .cell-change-pct { color: var(--change-down); }

/* 汇总行加粗 */
.data-table tr.row-summary td { font-weight: 700; }

/* 目标产品行：黄底 + 蓝字，可点击跳转素材维度 */
.data-table tr.target-product-row { cursor: pointer; }
.data-table tr.target-product-row td { background: #FFF2CC !important; color: #0066cc !important; }
.data-table tr.target-product-row:hover td { background: #FFE699 !important; color: #0044aa !important; }

.data-table th[data-sort="asc"]::after { content: " ↑"; opacity: 0.8; }

.data-table th[data-sort="desc"]::after { content: " ↓"; opacity: 0.8; }

.loading, .empty, .error {
  padding: 1rem;
  color: #7f8c8d;
}

.error { color: var(--change-down); }

/* 赛道排名功能暂时关闭，隐藏对应卡片 */
.rank-card-hidden { display: none !important; }
